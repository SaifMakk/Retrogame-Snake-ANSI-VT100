\hypertarget{_header_datei_8h_source}{}\doxysection{Header\+Datei.\+h}
\label{_header_datei_8h_source}\index{C:/Users/49176/OneDrive/Documents/PlatformIO/Projects/SnakeRetrogame/src/HeaderDatei.h@{C:/Users/49176/OneDrive/Documents/PlatformIO/Projects/SnakeRetrogame/src/HeaderDatei.h}}
\mbox{\hyperlink{_header_datei_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <avr/io.h>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <util/delay.h>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <avr/interrupt.h>}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ F\_CPU\ 16000000UL}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{_header_datei_8h_ac47b2bd906d2c843b97ecae6c1eea710}{Parity}}\ \{\ \mbox{\hyperlink{_header_datei_8h_ac47b2bd906d2c843b97ecae6c1eea710ab7e4e0120a041dbe6528b050c04269e0}{none}},\mbox{\hyperlink{_header_datei_8h_ac47b2bd906d2c843b97ecae6c1eea710a6136a0872216f91100b42ea04333af70}{Reserved}},\mbox{\hyperlink{_header_datei_8h_ac47b2bd906d2c843b97ecae6c1eea710a43c532333cafbed64b6f286a9432a44e}{even}},\mbox{\hyperlink{_header_datei_8h_ac47b2bd906d2c843b97ecae6c1eea710a67372da54dac061cd9d8c3600b2c1e90}{odd}}\};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00039\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_header_datei_8h_a5f7706bc4da5241f2e1998c6fcf89c62}{initUsart}}(uint32\_t\ baudrate,\ uint8\_t\ databits,\ \mbox{\hyperlink{_header_datei_8h_ac47b2bd906d2c843b97ecae6c1eea710}{Parity}}\ parity,\ uint8\_t\ stopbits)\{}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{comment}{//\ Convert\ the\ number\ of\ data\ bits\ to\ the\ appropriate\ value\ for\ the\ register}}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{switch}(databits)\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 5:\ databits=0;\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 6:\ databits=1;\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 7:\ databits=2;\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:\ databits=3;\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00046\ \ \ \ \ \}}
\DoxyCodeLine{00047\ \ \ \ \ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ UBRR\ value\ for\ the\ specified\ baud\ rate}}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ ubrr0\ =\ (\mbox{\hyperlink{_header_datei_8h_a43bafb28b29491ec7f871319b5a3b2f8}{F\_CPU}})\ /\ ((baudrate)\ *\ 16)\ -\/\ 1;}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ UBRRH\ and\ UBRRL\ registers\ with\ the\ calculated\ value}}
\DoxyCodeLine{00051\ \ \ \ \ UBRR0H\ =\ (\textcolor{keywordtype}{unsigned}\ char)(ubrr0>>8);}
\DoxyCodeLine{00052\ \ \ \ \ UBRR0L\ =\ (\textcolor{keywordtype}{unsigned}\ char)ubrr0;}
\DoxyCodeLine{00053\ \ \ \ \ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ Enable\ the\ receiver\ and\ transmitter}}
\DoxyCodeLine{00055\ \ \ \ \ UCSR0B\ =\ (1<<RXEN0)|(1<<TXEN0);}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ frame\ format\ (data\ bits,\ stop\ bits,\ parity)}}
\DoxyCodeLine{00058\ \ \ \ \ UCSR0C\ =\ ((stopbits-\/1)<<USBS0)|(databits<<UCSZ00)|(parity<<\ UPM00);}
\DoxyCodeLine{00059\ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00066\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_header_datei_8h_ad202395ac19f01c261cdab2a031073ee}{usartPutchar}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ c)}
\DoxyCodeLine{00067\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{//\ Wait\ for\ the\ transmit\ buffer\ to\ be\ empty}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordflow}{while}\ (!(UCSR0A\ \&\ (1<<UDRE0)))}
\DoxyCodeLine{00070\ \ \ \ \ ;}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//\ Send\ the\ character\ by\ setting\ the\ UDR0\ register}}
\DoxyCodeLine{00072\ \ \ \ \ UDR0\ =\ c;}
\DoxyCodeLine{00073\ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00081\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_header_datei_8h_a417297d3f5c93548ed368fa180dc4e30}{usart\_putstring}}\ (\textcolor{keywordtype}{char}\ *s)}
\DoxyCodeLine{00082\ \{}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{while}\ (*s)}
\DoxyCodeLine{00084\ \ \ \ \ \{\ \ \ \textcolor{comment}{//\ Keep\ sending\ characters\ until\ the\ null\ terminator\ is\ reached}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_header_datei_8h_ad202395ac19f01c261cdab2a031073ee}{usartPutchar}}(*s);}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ s++;}
\DoxyCodeLine{00087\ \ \ \ \ \}}
\DoxyCodeLine{00088\ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00099\ uint16\_t\ \mbox{\hyperlink{_header_datei_8h_a9c8f6259a8c3c363246865fbb1d750a7}{analogRead}}(\textcolor{keywordtype}{int}\ pin)\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{comment}{//\ Configure\ the\ ADC\ with\ the\ desired\ input\ channel\ and\ reference\ voltage}}
\DoxyCodeLine{00101\ \ \ \ \ ADMUX\ =\ (1\ <<\ REFS0)\ |\ (pin\ \&\ 0x07);}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Enable\ the\ ADC\ and\ set\ the\ prescaler\ to\ 128}}
\DoxyCodeLine{00103\ \ \ \ \ ADCSRA\ =\ (1\ <<\ ADEN)\ |\ (1\ <<\ ADPS2)\ |\ (1\ <<\ ADPS1)\ |\ (1\ <<\ ADPS0);}
\DoxyCodeLine{00104\ \ \ \ \ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{comment}{//\ Start\ the\ conversion\ by\ setting\ the\ ADSC\ bit}}
\DoxyCodeLine{00106\ \ \ \ \ ADCSRA\ |=\ (1\ <<\ ADSC);}
\DoxyCodeLine{00107\ \ \ \ \ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ Wait\ for\ the\ conversion\ to\ complete\ by\ checking\ the\ ADSC\ bit}}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordflow}{while}\ (ADCSRA\ \&\ (1\ <<\ ADSC));}
\DoxyCodeLine{00110\ \ \ \ \ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{//\ Return\ the\ result\ from\ the\ ADC\ register}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{return}\ ADC;}
\DoxyCodeLine{00113\ \}}

\end{DoxyCode}
